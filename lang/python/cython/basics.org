#+title: Basics

Cython is Python with C data types. Code which manipulates Python values and C
values can be freely intermixed. Refcount maintenance and error checking of
Python operations is automatic and Python error handling system is also available.

* Building

- =pyx= cython source files are first compiled to C source files and then built
  as a shared library.

- the library is then imported into a Python session.

- The most common way to build cython code is a setuptool =setup.py= (~python
  setup.py build_ext --inplace~); other ways
  include =cythonize=, =Pyximport= or jupyter notebooks.

* First Example

#+include: "./hello_world/setup.py" src python

* Static Typing

** Declarations

#+begin_src python
cdef int i, j, k
cdef float f, g[42], *h

cdef struct Grail:
	int age
    float volume

cdef union Food:
    char *spam
    float *eggs

cdef enum CheeseType:
    cheddar, edam,
    camembert

cdef enum CheeseState:
    hard = 1
    soft = 2
    runny = 3

ctypedef int* IntPtr


# a C function with a Python wrapper
cpdef long cfunc(long l):
	return 2 * l

#+end_src

